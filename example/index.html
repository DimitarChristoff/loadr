<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Loadr examples</title>
	<link rel="stylesheet" href="example.css"/>
	<script src="../dist/loadr.js"></script>
</head>
<body>
<section class="one">

</section>
<section class="two">
	<div class="sk-three-bounce">
		<div class="sk-child sk-bounce1"></div>
		<div class="sk-child sk-bounce2"></div>
		<div class="sk-child"></div>
	</div>
	<div class="loader-text"></div>
</section>
<section class="three">
	<div class="sk-spinner sk-spinner-pulse"></div>
	<div class="loader-text">
		<div class="hide"></div>
		<div class="hide"></div>
	</div>
</section>
<script>
	(function(Loadr){
		'use strict';

		(function(){
			var i = new Loadr(document.querySelector('section.one'));
			i.start();
		}());

		(function(){
			// sync to animation time manually.
			var i = new Loadr(document.querySelector('section.two div.loader-text'), {
				delay: 1400
			});
			i.start();
		}());

		(function(){
			// manually doing stuff, just getting new messages
			var i = new Loadr();

			var i3s = document.querySelectorAll('section.three div.loader-text > div'),
				last = 0,
				spinner = document.querySelector('section.three .sk-spinner-pulse'),
				getNewMessages = function(){
					i3s[last].innerHTML = i.get();
					i3s[last].classList.remove('hide');
					last = last == 0 ? 1 : 0;
					i3s[last].classList.add('hide');
				};

			spinner.addEventListener('animationiteration', getNewMessages, false);
			spinner.addEventListener('animationstart', getNewMessages, false);

			Array.prototype.forEach.call(i3s, function(el){
				el.innerHTML = i.get();
			});
		}());
	}(Loadr));
</script>
</body>
</html>
